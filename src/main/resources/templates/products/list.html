<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>SHOP</title>
    <th:block th:replace="include/header :: header"></th:block>
    <link rel="stylesheet" th:href="@{/css/product.css}" type="text/css">
    <script src="https://kit.fontawesome.com/3697bc8c45.js" crossorigin="anonymous"></script>

    <style>
        *{
            color: #1d1d1b;
        }
        aside{
            padding : 20px;
            box-sizing: border-box;
            height: 900px;
        }

        input{
            border: 1px solid grey;
            line-height: 2em;
        }
        #searchForm{
            margin-top: 20px;
        }
        #searchForm p{
            font-size:14px;
            line-height: 22px;
        }
        #searchForm input{
            margin-bottom:5px;
            border: 1px solid #909090;
            width: 188px;
            padding-left: 5px;
            border-radius: 2px;
        }
        button{
            /*디자인 몰라 가져오자...*/
        }
        .content_area{
            padding:0;
        }
        .content_area .content_title {
            padding-top:20px;
        }
        .content_area #categories {
            font-family: inherit;
            font-size: 14px;
            width: 100%;
            padding: 15px 0;
            font-weight: bold;
            margin : auto;
            display:flex;
            justify-content: space-between;
            align-items:center;
            box-shadow: 0 1px 0px #dddddd;
        }
        #categories ul{
            display: flex;
        }
        #categories li{
            margin:0 20px;
        }

        #productWrap{
            width: 100%;
            display: flex;
            padding: 20px;
        }
        .itembox{
            display: inline-block;
            width: 220px;
            height: 300px;
            margin: 3px;
        }
        .itembox a{
            display: inline-block;
        }
        .itembox img{
            background-color: #cccccc;
            display: inherit;
            width: 220px;
            height: 220px;
            border-radius: 3px;
            margin-bottom: 5px;
        }
        .itembox p{
            padding-left: 5px;
            text-align: left;
            line-height: 1.8em;
        }
        .itembox #priceTag{
            font-size: 20px;
        }


    </style>
</head>
<body>
<th:block th:replace="include/bodyHead :: bodyHeader"></th:block>

<div class="container">
    <aside>
        <h5>필터</h5>
        <div id="filter">
            <form action="" method="get" id="searchForm">
                <p>상품명<br><input type="text" id="nameSearch" name="nameSearch" style="background-color: white"></p>
<!--                <div>-->
<!--                    <div>카테고리</div>-->
<!--                    <select th:field="*{category}" class="form-select">-->
<!--                        <option value="">==카테고리 선택==</option>-->
<!--                        <option th:each="category : ${categories}" th:value="${category.id}"-->
<!--                                th:text="${category.name}">와좌</option>-->
<!--                    </select>-->
<!--                </div>-->
                <p>카테고리<br>
                    <select style="width:190px; font-size: 16px;">
                        <option value=""> </option>
                        <option th:each="category : ${categories}" th:value="${category.id}"
                                th:text="${category.name}"></option>
                    </select>
                </p>

                <p>브랜드<br>
                    <select style="width:190px; font-size: 16px;">
                        <option value=""> </option>
                        <option th:each="brand : ${brands}" th:value="${brand.id}"
                                th:text="${brand.name}"></option>
                    </select>
                </p>
                <br>
                <button type="submit">
                    검 색
                </button>
            </form>
        </div>
    </aside> <!--END sidebar-->

    <div class="content_area">
        <div id="categories">
            <ul id="category_gnb">
                <li style="font-weight: bolder">전체</li>
               <li th:each="category : ${categories}" th:value="${category.id}" th:text="${category.name}"></li>
            </ul>
        </div>

        <div id="productWrap">
            <div class="itembox" th:each="product : ${products}">
                <a th:href="@{/products/detail/{productId} (productId=${product.id})}" >
                    <img th:src="@{|/upload/${product.imgName}|}"/>
                    <div id="itembox_info">
                        <b><p th:text="|${product.brand.name}|"></p></b>
                        <p th:text="${#strings.length(product.name) < 20 ? product.name : #strings.substring(product.name, 0, 20) + ' ...'}"></p>
                        <p th:text="|${#numbers.formatDecimal(product.price,3, 'COMMA',0,'POINT')}|" id="priceTag"></p><br>
                    </div>
                </a>
            </div>
        </div>

        <th:block th:each="page : ${#numbers.sequence(startPage,endPage)}">
            <a th:if="${page != nowPage}" th:href="@{/products/__${pname}__(page = ${page-1},searchKeyword = ${param.searchKeyword})}" th:text="${page}"></a>
            <strong th:if="${page == nowPage}"  th:text="${page}" style="color:red"></strong>
        </th:block>
    </div>

</div> <!-- /container -->

<th:block th:replace="include/footer :: footer"></th:block>
</body>
</html>

