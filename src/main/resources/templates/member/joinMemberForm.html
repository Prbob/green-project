
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>회원가입 페이지</title>
    <th:block th:replace="include/header :: header"></th:block>
    <style><!--/*김한결 작성*/-->
        div.joinMemberForm-Main{
            margin: auto;
        }
        div.field-error{
            color: red;
        }
        div.joinMemberForm-Main-Frame{
            margin: auto;
            display: flex;
            flex-direction: column; /* 내부 요소를 세로로 정렬 */
            align-items: center;
            background-color: #f5f5f3;
            max-width: 60%;
            border-radius: 20px;
            padding: 10px;
            padding-bottom: 20px;
        }
        h1.joinMemberForm-Main-Frame-title{
            margin: 10px;
        }
        div.joinMemberForm-Main-minidiv{
            margin-top: 10px;
            max-width: 100%;
        }
        div.joinMemberForm-Main-minidiv label{
            font-weight: bold;
            line-height: 1.5;
        }
        div.joinMemberForm-Main-minidiv-div{
            width: 100%;
            margin-top: 5px;
            display: flex;
            justify-content: space-between;
        }
        form.joinMemberForm-Main-Frame-Form{
            max-width: 85%;
        }
        button{
            border:  1px solid black;
        }

        button.joinMemberForm-Main-forms-InputBTN{
            width: 100%;
            display: block;
            margin: 20px auto 0 auto;
            background-color: #efefef;
            color: black;
            border-radius: 20px;
            padding : 5px;
        }
        input{
            height: 30px;
        }
        input.joinMemberForm-Main-minidiv-input{
            background-color: white;
            border: 1px solid black;
            width: 300px;
        }
        input.joinMemberForm-Main-minidiv-inputsBTN{
            background-color: #efefef;
            color: black;
            padding: 5px;
            text-align: center;
            border: 1px solid black;
            margin-left: 10px;
        }

        
    </style>
</head>
<body>


<th:block th:replace="include/bodyHead :: bodyHeader"></th:block>

<<<<<<< HEAD
<!--인증 폼 띄우기 test-->
<!--<button id="emailCheck" onclick="openNewWindow()">인증번호 받기</button>-->


<form th:action="@{/member/joinMember}" method="post" th:object="${form}">
    <div th:if="${#fields.hasGlobalErrors()}">
        <p class="field-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}">글로벌 오류 메시지</p>
    </div>
    <div>
        <label th:for="email">이메일:</label>
        <input type="email" th:field="*{email}" >
        <div class="field-error" th:errors="*{email}" />
    </div>

    <div>
        <label th:for="name">이름:</label>
        <input type="text" th:field="*{name}" >
        <div class="field-error" th:errors="*{name}" />
    </div>

    <div>
        <label th:for="pwd">비밀번호:</label>
        <input type="password" th:field="*{pwd}">
        <div class="field-error" th:errors="*{pwd}" />
    </div>
    <div>
        <label th:for="pwdChk">비밀번호 확인:</label>
        <input type="password" th:field="*{pwdChk}">
        <div class="field-error" th:errors="*{pwdChk}" />
    </div>




    <div class="form-group">
        <label th:for="postal_code">우편번호</label>
        <input type="text" id="sample6_postcode" th:field="*{postal_code}" placeholder="우변번호" readonly>
        <input type="button" onclick="sample6_execDaumPostcode()" value="우편번호 찾기"><br>
    </div>
    <div class="form-group">
        <label th:for="middle_address">주소</label>
        <input type="text" id="sample6_address" th:field="*{middle_address}" placeholder="주소" readonly>
    </div>
    <div class="form-group">
        <label th:for="detailed_address">상세주소</label>
        <input type="text" id="sample6_detailAddress" th:field="*{detailed_address}" placeholder="상세주소를 입력하세요">
    </div>

    <input type="text" id="sample6_extraAddress" placeholder="참고항목" readonly >

    <button type="submit">등록</button>
</form>

<th:block th:replace="include/footer :: footer"></th:block>


<script>
    function openNewWindow() {
        var newWindow = window.open("/member/emailCertificationForm", "_blank", "width=600,height=400");
        // 새로 열린 창에서의 추가 동작은 필요에 따라 추가할 수 있습니다.
    }


</script>

<!--주소 찾기 api-->
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script type="text/javascript" th:src="@{/js/kakaoAddress.js}"></script>

<!-- 이메일 인증 스크립트 -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/js/emailCertification.js"></script>

<!--이메일 받아오기-->
<script>
    function setEmail(email) {
        // joinMemberForm.html 페이지의 이메일 필드에 이메일 주소 설정
        document.getElementById("email").value = email;
    }
</script>



</body>
</html>
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>회원가입 페이지</title>
    <th:block th:replace="include/header :: header"></th:block>
</head>
<body>


<th:block th:replace="include/bodyHead :: bodyHeader"></th:block>
<h1>회원 등록</h1>

=======
    
>>>>>>> 6fdb5e5b5e1d64b0d65ba31e977d2fc6c5f37ac6

<!--<button id="emailCheck" th:onclick="openNewWindow()">이메일 인증</button>-->
<div class="joinMemberForm-Main">
    <div class="joinMemberForm-Main-Frame">
        <h1 class="joinMemberForm-Main-Frame-title">회원 가입</h1>
        <form th:action="@{/member/joinMember}" method="post" th:object="${form}" class="joinMemberForm-Main-Frame-Form">
    
            <!--<div>
                <label th:for="email">이메일:</label>
                <input type="email" th:field="*{email}" placeholder="이메일" readonly>
                &lt;!&ndash;button 태그로 만들면 이메일 인증 버튼을 눌렀을때 form제출. 그래서 input태그로 만듬&ndash;&gt;
                <input type="button" th:onclick="openNewWindow()" value="이메일 인증"><br>
                <div class="field-error" th:errors="*{email}" />
            </div>-->

            <div class="joinMemberForm-Main-minidiv">
                <label th:for="email">이메일*</label>
                <div class="joinMemberForm-Main-minidiv-div">
                    <input class="joinMemberForm-Main-minidiv-input" type="email" th:field="*{email}" placeholder="이메일" readonly>
                    <!--button 태그로 만들면 이메일 인증 버튼을 눌렀을때 form제출. 그래서 input태그로 만듬-->
                    <input type="button" th:onclick="openNewWindow()" value="인증" class="joinMemberForm-Main-minidiv-inputsBTN"><br>
                </div>
                <div class="field-error" th:errors="*{email}" />
            </div>
            
            <div class="joinMemberForm-Main-minidiv">
                <label th:for="name"> 이름* </label>
                <div class="joinMemberForm-Main-minidiv-div">
                    <input type="text" class="joinMemberForm-Main-minidiv-input" th:field="*{name}" placeholder="이름" >
                </div>
                <div class="field-error" th:errors="*{name}" />
            </div>
        
            <div class="joinMemberForm-Main-minidiv">
                <label th:for="pwd"> 비밀번호* </label>
                <div class="joinMemberForm-Main-minidiv-div">
                    <input type="password" class="joinMemberForm-Main-minidiv-input" th:field="*{pwd}" placeholder="비밀번호">
                </div>
                <div class="field-error" th:errors="*{pwd}" />
            </div>
            <div class="joinMemberForm-Main-minidiv">
                <label th:for="pwdChk"> 비밀번호 확인* </label>
                <div class="joinMemberForm-Main-minidiv-div">
                    <input type="password" class="joinMemberForm-Main-minidiv-input" th:field="*{pwdChk}" placeholder="비밀번호 확인">
                </div>
                <div class="field-error" th:errors="*{pwdChk}" />
            </div>
        
        
            <div class="form-group joinMemberForm-Main-minidiv">
                <label th:for="postal_code"> 우편번호* </label>
                <div class="joinMemberForm-Main-minidiv-div">
                    <input type="text" id="sample6_postcode" class="joinMemberForm-Main-minidiv-input" th:field="*{postal_code}" placeholder="우편번호" readonly>
                    <input type="button" onclick="sample6_execDaumPostcode()" value="우편번호 찾기" class="joinMemberForm-Main-minidiv-inputsBTN"><br>    
                </div>
            </div>
        
        
            <div class="form-group joinMemberForm-Main-minidiv">
                <label th:for="middle_address"> 주소* </label>
                <div class="joinMemberForm-Main-minidiv-div">
                    <input type="text" id="sample6_address" class="joinMemberForm-Main-minidiv-input" th:field="*{middle_address}" placeholder="주소" readonly>
                </div>
            </div>
    
            <div class="form-group joinMemberForm-Main-minidiv">
                <label th:for="detailed_address"> 상세주소* </label>
                <div class="joinMemberForm-Main-minidiv-div">
                    <input type="text" id="sample6_detailAddress" th:field="*{detailed_address}" class="joinMemberForm-Main-minidiv-input" placeholder="상세주소를 입력하세요">
                </div>
            </div>
            <input type="text" id="sample6_extraAddress" placeholder="참고항목" margin-botton="10px" class="joinMemberForm-Main-minidiv-input" readonly >
            
            <button type="submit" class="joinMemberForm-Main-forms-InputBTN"> 등록 </button>
        </form>
    </div>
</div>



<th:block th:replace="include/footer :: footer"></th:block>


<!--주소 찾기 api-->
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script type="text/javascript" th:src="@{/js/kakaoAddress.js}"></script>

<!-- 이메일 인증 스크립트 -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/js/emailCertification.js"></script>

<script>
    function test() {
        var pwdErrorDiv = document.querySelector('.pwdChk');
        var passwordField = document.getElementById('pwd');
        var passwordCheckField = document.getElementById('pwdChk');
        var errorMessage = document.querySelector('.error-message');
        var errorSpan = document.getElementById('check');
        var errorDiv = document.querySelector('div.field-error');

        var p1 = passwordField.value;
        var p2 = passwordCheckField.value;

        if (p1 !== p2) {
            // 비밀번호가 일치하지 않을 때 오류 메시지 표시
            errorDiv.style.display = 'block';
            document.getElementById('check').innerHTML = "비밀번호가 일치하지 않습니다";
            document.getElementById('pwd-error').innerHTML = "";

            return false; // 폼 제출을 중지
        }
    }
</script>
</body>
</html>